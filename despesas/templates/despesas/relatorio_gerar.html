{% extends 'despesas/base.html' %}

{% block title %}Relatório Gerado{% endblock %}

{% block content %}
<h1>Relatório Financeiro</h1>

<!-- Filtros -->
<div class="mb-4">
    <a href="?filtro=todos" class="btn btn-primary">Todos</a>
    <a href="?filtro=despesas" class="btn btn-secondary">Somente Despesas</a>
    <a href="?filtro=reembolsos" class="btn btn-secondary">Somente Reembolsos</a>
</div>

{% if filtro == "todos" or filtro == "despesas" %}
<h2>Despesas</h2>
<ul class="list-group mb-4">
    {% for despesa in despesas %}
    <li class="list-group-item">
        {{ despesa.descricao }} — R$ {{ despesa.valor }}
    </li>
    {% empty %}
    <li class="list-group-item">Nenhuma despesa registrada.</li>
    {% endfor %}
</ul>
{% endif %}

{% if filtro == "todos" or filtro == "reembolsos" %}
<h2>Reembolsos</h2>
<ul class="list-group mb-4">
    {% for reembolso in reembolsos %}
    <li class="list-group-item">
        {{ reembolso.descricao }} — R$ {{ reembolso.valor }}
    </li>
    {% empty %}
    <li class="list-group-item">Nenhum reembolso registrado.</li>
    {% endfor %}
</ul>
{% endif %}

<h3>Total de Despesas: R$ {{ total_despesas }}</h3>
<h3>Total de Reembolsos: R$ {{ total_reembolsos }}</h3>

{% endblock %}
